_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[36],{QH6c:function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return O}));var n=a("nKUr"),r=a("o0o1"),c=a.n(r),i=a("HaE+"),o=a("rePB"),s=a("q1tI"),d=a("DPf8"),u=(a("DWH6"),a("y2NB")),p=a("U2AE"),l=(a("ozCu"),a("vDqi")),b=a.n(l),j=(a("mQrR"),a("20a2"));a("g4oY");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O=!0;t.default=function(){var e=Object(j.useRouter)(),t=Object(s.useState)({add:!1,delete:!1,page:!1}),a=t[0],r=t[1],l=function(e,t){r(m(m({},a),{},Object(o.a)({},e,t)))},f=function(){var t=Object(i.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l("add",!0),t.prev=1,t.next=4,b()({baseURL:p.a,url:"/api/product/add",method:"POST",data:a});case 4:t.sent,e.push("/products"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),alert("\u0641\u0634\u0644 \u0627\u0644\u0627\u0636\u0627\u0641\u0647");case 11:l("add",!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsx)(d.a,{className:"",title:"\u0627\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c",children:Object(n.jsx)(u.a,{loader:a,handleAdd:f})})}},g4oY:function(e,t){e.exports=function(e,t){if(!window)throw new Error("DOM is unavailable");window.Tawk_API=window.Tawk_API||{},window.Tawk_LoadStart=new Date;if(document.getElementById("tawkId"))return window.Tawk_API;if(!t)throw new Error("Key not provided. Get key from tawk dashboard - Direct Chat Link");const a=document.createElement("script");a.id="tawkId",a.async=!0,a.src="https://embed.tawk.to/"+e+"/"+t,a.charset="UTF-8",a.setAttribute("crossorigin","*");const n=document.getElementsByTagName("script")[0];if(!n||!n.parentNode)throw new Error("DOM is unavailable");n.parentNode.insertBefore(a,n)}},mQrR:function(e,t,a){"use strict"},ozCu:function(e,t,a){"use strict";var n=a("nKUr"),r=(a("q1tI"),a("NRTv")),c=a("Aiso"),i=a.n(c);t.a=function(){return Object(n.jsxs)(r.a,{className:"justify-center items-center space-y-5",children:[Object(n.jsx)("div",{className:"",children:Object(n.jsx)(i.a,{src:"/images/no-data.png",width:350,height:350})}),Object(n.jsx)("span",{className:"text-xl font-bold mb-10",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"})]})}},sjjJ:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/add",function(){return a("QH6c")}])},y2NB:function(e,t,a){"use strict";var n=a("nKUr"),r=a("o0o1"),c=a.n(r),i=a("KQm4"),o=a("HaE+"),s=a("rePB"),d=a("q1tI"),u=a("hlY3"),p=a("rhtC"),l=a("U2AE"),b=a("RYhv"),j=a("bVfu"),f=a("xPrm"),m=a("d42J"),O=a("xqva"),h=a("Ndxo"),w=a("bTu8"),g=a("g0Ox"),v=a("r+u0"),y=a("vDqi"),x=a.n(y);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.a=function(e){var t,a=e.item,r=e.handleDelete,y=e.handleEdit,_=e.handleAdd,E=e.loader;w.a.use([g.a]);var D=Object(d.useState)(P({},l.h)),N=D[0],k=D[1],I=Object(d.useContext)(m.b).categories,T=Object(d.useState)(!1),A=T[0],S=T[1];Object(d.useEffect)((function(){a&&k(P({},a))}),[]);var q=function(e,t){k(P(P({},N),{},Object(s.a)({},e,t)))},R=function(){var e=Object(o.a)(c.a.mark((function e(t,n){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=17;break}return S(!0),(r=new FormData).append("image",n),r.append("product_id",a.id),e.prev=5,e.next=8,x()({baseURL:l.a,url:"/api/product/images",method:"POST",data:r});case 8:o=e.sent,k(P(P({},N),{},{Product_Images:Object(i.a)(o.data.data)})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0.response),alert("\u0641\u0634\u0644 \u0627\u0644\u0627\u0636\u0627\u0641\u0647");case 16:S(!1);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,x()({baseURL:l.a,url:"/api/product/images",method:"DELETE",params:{id:t.id}});case 4:a=e.sent,k(P(P({},N),{},{Product_Images:Object(i.a)(a.data.data)})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.response),alert("\u0641\u0634\u0644 \u0627\u0644\u0645\u0633\u062d");case 12:S(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),L=y?function(){var e=new FormData;N.id&&e.append("id",N.id),e.append("name",N.name),e.append("price",N.price),e.append("category_id",N.category_id),e.append("description",N.description),e.append("type",N.type),N.image_obj&&e.append("image",N.image_obj),Object(f.a)(N,["parent_id"])||y(e)}:null,B=_?function(){var e=new FormData;e.append("name",N.name),e.append("price",N.price),e.append("description",N.description),e.append("type",N.type),e.append("category_id",N.category_id),N.image_obj&&e.append("image",N.image_obj),Object(f.a)(N,["parent_id"])||_(e)}:null;return console.log(N),Object(n.jsx)(j.a,{handleAdd:B,handleEdit:L,handleDelete:r,item:a||null,loader:E,children:Object(n.jsxs)("div",{className:"flex flex-col space-y-8",children:[Object(n.jsx)(v.a,{className:"flex justify-center mb-5",data:N.image,id:"image",setData:function(e,t){return function(e,t,a){var n;k(P(P({},N),{},(n={},Object(s.a)(n,e,t),Object(s.a)(n,"".concat(e,"_obj"),a),n)))}("image",e,t)}}),(null===a||void 0===a?void 0:a.id)&&Object(n.jsx)("div",{className:"w-full",children:Object(n.jsxs)(O.a,{navigation:!0,slidesPerView:1,children:[Object(n.jsx)(h.a,{children:Object(n.jsx)(u.a,{className:"flex justify-center mb-5",data:"",handleAddImage:R,imageLoader:A})}),null===N||void 0===N||null===(t=N.Product_Images)||void 0===t?void 0:t.map((function(e,t){return Object(n.jsx)(h.a,{children:Object(n.jsx)(u.a,{className:"flex justify-center mb-5",data:e,handleRemoveImage:U,imageLoader:A})},t)}))]})}),Object(n.jsx)(p.a,{required:!0,name:"\u0627\u0644\u0627\u0633\u0645",value:N.name,changeVlaue:function(e){return q("name",e)}}),Object(n.jsx)(p.a,{required:!0,type:"number",name:"\u0627\u0644\u0633\u0639\u0631",value:N.price,changeVlaue:function(e){return q("price",e)}}),Object(n.jsx)(p.a,{required:!0,name:"\u0627\u0644\u0648\u0635\u0641",value:N.description,changeVlaue:function(e){return q("description",e)},type:"textarea",rows:3}),Object(n.jsx)(b.a,{name:"\u0646\u0648\u0639 \u0627\u0644\u0641\u0626\u0629 \u0627\u0644\u0641\u0631\u0639\u064a\u0629",selectable:I.subs,value:N.category_id,changeVlaue:function(e){return q("category_id",e)},valueAsId:!0})]})})}}},[["sjjJ",0,1,2,3,4,5,6,7,9]]]);